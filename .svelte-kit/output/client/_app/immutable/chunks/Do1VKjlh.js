import{s as F,n as p,d as m,l as H,m as u,i as v,c as b,e as y,h as k,o as J,p as K,r as L,b as C,q as P,g as G,j as M,u as z,v as V,w as q,a as Q,f as T,t as U}from"./CkU7Y2dy.js";import{S as W,i as X,t as I,c as N}from"./ChW-gKZF.js";import{e as R}from"./D6YF6ztN.js";import{f as Y,a as Z}from"./BtA5MIXY.js";import{c as x}from"./XhiDHVhU.js";function S(s,e,i){const n=s.slice();return n[14]=e[i],n[16]=i,n}function $(s){let e,i;return{c(){e=k("div"),this.h()},l(n){e=b(n,"DIV",{class:!0}),y(e).forEach(m),this.h()},h(){u(e,"class",i=`${s[4]} bg-gray-900`)},m(n,a){v(n,e,a)},p(n,a){a&16&&i!==(i=`${n[4]} bg-gray-900`)&&u(e,"class",i)},i:p,o:p,d(n){n&&m(e)}}}function ee(s){let e,i,n,a,r,o,t,l=s[3]&&j(s);return{c(){e=k("div"),i=k("img"),o=M(),l&&l.c(),t=q(),this.h()},l(f){e=b(f,"DIV",{class:!0});var d=y(e);i=b(d,"IMG",{src:!0,alt:!0,class:!0,loading:!0}),d.forEach(m),o=G(f),l&&l.l(f),t=q(),this.h()},h(){V(i.src,n=`${s[1]}${s[14]}`)||u(i,"src",n),u(i,"alt","Photography work"),u(i,"class","image-hover w-full h-full object-cover transition-transform duration-700 ease-in-out"),u(i,"loading","lazy"),u(e,"class",a=`${s[4]} overflow-hidden`)},m(f,d){v(f,e,d),C(e,i),v(f,o,d),l&&l.m(f,d),v(f,t,d)},p(f,d){d&3&&!V(i.src,n=`${f[1]}${f[14]}`)&&u(i,"src",n),d&16&&a!==(a=`${f[4]} overflow-hidden`)&&u(e,"class",a),f[3]?l?(l.p(f,d),d&8&&I(l,1)):(l=j(f),l.c(),I(l,1),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i(f){f&&(r||z(()=>{r=N(e,Y,{y:20,duration:700,delay:s[16]%3*100}),r.start()})),I(l)},o:p,d(f){f&&(m(e),m(o),m(t)),l&&l.d(f)}}}function j(s){let e,i,n=s[14].replace(/\.\w+$/,"").replace(/_/g," ")+"",a,r;return{c(){e=k("div"),i=k("p"),a=U(n),this.h()},l(o){e=b(o,"DIV",{class:!0});var t=y(e);i=b(t,"P",{class:!0});var l=y(i);a=T(l,n),l.forEach(m),t.forEach(m),this.h()},h(){u(i,"class","text-white text-sm"),u(e,"class","absolute inset-0 flex items-end p-4 bg-gradient-to-t from-black/70 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300")},m(o,t){v(o,e,t),C(e,i),C(i,a)},p(o,t){t&1&&n!==(n=o[14].replace(/\.\w+$/,"").replace(/_/g," ")+"")&&Q(a,n)},i(o){o&&(r||z(()=>{r=N(e,Z,{duration:300,delay:300+s[16]%3*100}),r.start()}))},o:p,d(o){o&&m(e)}}}function A(s){let e,i,n,a,r;function o(_,h){return h&32&&(i=null),i==null&&(i=!!_[5].includes(_[16])),i?ee:$}let t=o(s,-1),l=t(s);function f(){return s[10](s[14],s[16])}function d(..._){return s[11](s[14],s[16],..._)}return{c(){e=k("div"),l.c(),n=M(),this.h()},l(_){e=b(_,"DIV",{class:!0,"data-index":!0,tabindex:!0,role:!0,"aria-label":!0});var h=y(e);l.l(h),n=G(h),h.forEach(m),this.h()},h(){u(e,"class","image-container overflow-hidden relative cursor-pointer"),u(e,"data-index",s[16]),u(e,"tabindex","0"),u(e,"role","button"),u(e,"aria-label","View image")},m(_,h){v(_,e,h),l.m(e,null),C(e,n),a||(r=[P(e,"click",f),P(e,"keydown",d)],a=!0)},p(_,h){s=_,t===(t=o(s,h))&&l?l.p(s,h):(l.d(1),l=t(s),l&&(l.c(),I(l,1),l.m(e,n)))},d(_){_&&m(e),l.d(),a=!1,L(r)}}}function ie(s){let e,i,n=R(s[0]),a=[];for(let r=0;r<n.length;r+=1)a[r]=A(S(s,n,r));return{c(){e=k("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=b(r,"DIV",{class:!0});var o=y(e);for(let t=0;t<a.length;t+=1)a[t].l(o);o.forEach(m),this.h()},h(){u(e,"class",i=`grid ${s[6]} ${s[2]}`)},m(r,o){v(r,e,o);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,null)},p(r,[o]){if(o&187){n=R(r[0]);let t;for(t=0;t<n.length;t+=1){const l=S(r,n,t);a[t]?a[t].p(l,o):(a[t]=A(l),a[t].c(),a[t].m(e,null))}for(;t<a.length;t+=1)a[t].d(1);a.length=n.length}o&68&&i!==(i=`grid ${r[6]} ${r[2]}`)&&u(e,"class",i)},i:p,o:p,d(r){r&&m(e),H(a,r)}}}function te(s,e,i){let n,{images:a=[]}=e,{basePath:r="/images/"}=e,{columns:o=3}=e,{gap:t="gap-4"}=e,{showCaption:l=!1}=e,{aspectRatio:f="aspect-[3/4]"}=e,{onClick:d=null}=e;const _=J();let h=[],w;K(()=>(w=x(c=>{if(c.isIntersecting){const g=parseInt(c.target.dataset.index);h.includes(g)||i(5,h=[...h,g])}}),document.querySelectorAll(".image-container").forEach(c=>{w.observe(c)}),()=>{w&&document.querySelectorAll(".image-container").forEach(c=>{w.unobserve(c)})}));function E(c,g){d&&d(c,g),_("click",{image:c,index:g})}const O=(c,g)=>E(c,g),B=(c,g,D)=>{(D.key==="Enter"||D.key===" ")&&E(c,g)};return s.$$set=c=>{"images"in c&&i(0,a=c.images),"basePath"in c&&i(1,r=c.basePath),"columns"in c&&i(8,o=c.columns),"gap"in c&&i(2,t=c.gap),"showCaption"in c&&i(3,l=c.showCaption),"aspectRatio"in c&&i(4,f=c.aspectRatio),"onClick"in c&&i(9,d=c.onClick)},s.$$.update=()=>{s.$$.dirty&256&&i(6,n={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4"}[o]||"grid-cols-1 md:grid-cols-3")},[a,r,t,l,f,h,n,E,o,d,O,B]}class oe extends W{constructor(e){super(),X(this,e,te,ie,F,{images:0,basePath:1,columns:8,gap:2,showCaption:3,aspectRatio:4,onClick:9})}}export{oe as I};
